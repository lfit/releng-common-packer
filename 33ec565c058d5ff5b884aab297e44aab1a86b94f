{
  "comments": [
    {
      "key": {
        "uuid": "564aeb7f_61f84445",
        "filename": "provision/connection_plugins/packer.py",
        "patchSetId": 10
      },
      "lineNbr": 9,
      "author": {
        "id": 8
      },
      "writtenOn": "2018-07-04T05:37:37Z",
      "side": 1,
      "message": "There\u0027s a comment that suggests that a DOCUMENTATION string is required in Ansible 2.4.1 and newer and may be the cause of the failure:\n\nhttps://github.com/hashicorp/packer/issues/4904#issuecomment-402175721\n\nDOCUMENTATION \u003d \u0027\u0027\u0027\n    connection: packer\n    short_description: ssh based connections for powershell via packer\n    description:\n        - This connection plugin allows ansible to communicate to the target packer machines via ssh based connections for powershell.\n    author: Packer\n    version_added: na\n    options:\n      host:\n          description: Hostname/ip to connect to.\n          default: inventory_hostname\n          vars:\n               - name: ansible_host\n               - name: ansible_ssh_host\n      host_key_checking:\n          description: Determines if ssh should check host keys\n          type: boolean\n          ini:\n              - section: defaults\n                key: \u0027host_key_checking\u0027\n              - section: ssh_connection\n                key: \u0027host_key_checking\u0027\n                version_added: \u00272.5\u0027\n          env:\n              - name: ANSIBLE_HOST_KEY_CHECKING\n              - name: ANSIBLE_SSH_HOST_KEY_CHECKING\n                version_added: \u00272.5\u0027\n          vars:\n              - name: ansible_host_key_checking\n                version_added: \u00272.5\u0027\n              - name: ansible_ssh_host_key_checking\n                version_added: \u00272.5\u0027\n      password:\n          description: Authentication password for the C(remote_user). Can be supplied as CLI option.\n          vars:\n              - name: ansible_password\n              - name: ansible_ssh_pass\n      ssh_args:\n          description: Arguments to pass to all ssh cli tools\n          default: \u0027-C -o ControlMaster\u003dauto -o ControlPersist\u003d60s\u0027\n          ini:\n              - section: \u0027ssh_connection\u0027\n                key: \u0027ssh_args\u0027\n          env:\n              - name: ANSIBLE_SSH_ARGS\n      ssh_common_args:\n          description: Common extra args for all ssh CLI tools\n          ini:\n              - section: \u0027ssh_connection\u0027\n                key: \u0027ssh_common_args\u0027\n                version_added: \u00272.7\u0027\n          env:\n              - name: ANSIBLE_SSH_COMMON_ARGS\n                version_added: \u00272.7\u0027\n          vars:\n              - name: ansible_ssh_common_args\n      ssh_executable:\n          default: ssh\n          description:\n            - This defines the location of the ssh binary. It defaults to `ssh` which will use the first ssh binary available in $PATH.\n            - This option is usually not required, it might be useful when access to system ssh is restricted,\n              or when using ssh wrappers to connect to remote hosts.\n          env: [{name: ANSIBLE_SSH_EXECUTABLE}]\n          ini:\n          - {key: ssh_executable, section: ssh_connection}\n          yaml: {key: ssh_connection.ssh_executable}\n          #const: ANSIBLE_SSH_EXECUTABLE\n          version_added: \"2.2\"\n          vars:\n              - name: ansible_ssh_executable\n                version_added: \u00272.7\u0027\n      sftp_executable:\n          default: sftp\n          description:\n            - This defines the location of the sftp binary. It defaults to ``sftp`` which will use the first binary available in $PATH.\n          env: [{name: ANSIBLE_SFTP_EXECUTABLE}]\n          ini:\n          - {key: sftp_executable, section: ssh_connection}\n          version_added: \"2.6\"\n          vars:\n              - name: ansible_sftp_executable\n                version_added: \u00272.7\u0027\n      scp_executable:\n          default: scp\n          description:\n            - This defines the location of the scp binary. It defaults to `scp` which will use the first binary available in $PATH.\n          env: [{name: ANSIBLE_SCP_EXECUTABLE}]\n          ini:\n          - {key: scp_executable, section: ssh_connection}\n          version_added: \"2.6\"\n          vars:\n              - name: ansible_scp_executable\n                version_added: \u00272.7\u0027\n      scp_extra_args:\n          description: Extra exclusive to the ``scp`` CLI\n          vars:\n              - name: ansible_scp_extra_args\n          env:\n            - name: ANSIBLE_SCP_EXTRA_ARGS\n              version_added: \u00272.7\u0027\n          ini:\n            - key: scp_extra_args\n              section: ssh_connection\n              version_added: \u00272.7\u0027\n      sftp_extra_args:\n          description: Extra exclusive to the ``sftp`` CLI\n          vars:\n              - name: ansible_sftp_extra_args\n          env:\n            - name: ANSIBLE_SFTP_EXTRA_ARGS\n              version_added: \u00272.7\u0027\n          ini:\n            - key: sftp_extra_args\n              section: ssh_connection\n              version_added: \u00272.7\u0027\n      ssh_extra_args:\n          description: Extra exclusive to the \u0027ssh\u0027 CLI\n          vars:\n              - name: ansible_ssh_extra_args\n          env:\n            - name: ANSIBLE_SSH_EXTRA_ARGS\n              version_added: \u00272.7\u0027\n          ini:\n            - key: ssh_extra_args\n              section: ssh_connection\n              version_added: \u00272.7\u0027\n      retries:\n          # constant: ANSIBLE_SSH_RETRIES\n          description: Number of attempts to connect.\n          default: 3\n          type: integer\n          env:\n            - name: ANSIBLE_SSH_RETRIES\n          ini:\n            - section: connection\n              key: retries\n            - section: ssh_connection\n              key: retries\n          vars:\n              - name: ansible_ssh_retries\n                version_added: \u00272.7\u0027\n      port:\n          description: Remote port to connect to.\n          type: int\n          default: 22\n          ini:\n            - section: defaults\n              key: remote_port\n          env:\n            - name: ANSIBLE_REMOTE_PORT\n          vars:\n            - name: ansible_port\n            - name: ansible_ssh_port\n      remote_user:\n          description:\n              - User name with which to login to the remote server, normally set by the remote_user keyword.\n              - If no user is supplied, Ansible will let the ssh client binary choose the user as it normally\n          ini:\n            - section: defaults\n              key: remote_user\n          env:\n            - name: ANSIBLE_REMOTE_USER\n          vars:\n            - name: ansible_user\n            - name: ansible_ssh_user\n      pipelining:\n          default: ANSIBLE_PIPELINING\n          description:\n            - Pipelining reduces the number of SSH operations required to execute a module on the remote server,\n              by executing many Ansible modules without actual file transfer.\n            - This can result in a very significant performance improvement when enabled.\n            - However this conflicts with privilege escalation (become).\n              For example, when using sudo operations you must first disable \u0027requiretty\u0027 in the sudoers file for the target hosts,\n              which is why this feature is disabled by default.\n          env:\n            - name: ANSIBLE_PIPELINING\n            #- name: ANSIBLE_SSH_PIPELINING\n          ini:\n            - section: defaults\n              key: pipelining\n            #- section: ssh_connection\n            #  key: pipelining\n          type: boolean\n          vars:\n            - name: ansible_pipelining\n            - name: ansible_ssh_pipelining\n      private_key_file:\n          description:\n              - Path to private key file to use for authentication\n          ini:\n            - section: defaults\n              key: private_key_file\n          env:\n            - name: ANSIBLE_PRIVATE_KEY_FILE\n          vars:\n            - name: ansible_private_key_file\n            - name: ansible_ssh_private_key_file\n      control_path:\n        description:\n          - This is the location to save ssh\u0027s ControlPath sockets, it uses ssh\u0027s variable substitution.\n          - Since 2.3, if null, ansible will generate a unique hash. Use `%(directory)s` to indicate where to use the control dir path setting.\n        env:\n          - name: ANSIBLE_SSH_CONTROL_PATH\n        ini:\n          - key: control_path\n            section: ssh_connection\n        vars:\n          - name: ansible_control_path\n            version_added: \u00272.7\u0027            \n      control_path_dir:\n        default: ~/.ansible/cp\n        description:\n          - This sets the directory to use for ssh control path if the control path setting is null.\n          - Also, provides the `%(directory)s` variable for the control path setting.\n        env:\n          - name: ANSIBLE_SSH_CONTROL_PATH_DIR\n        ini:\n          - section: ssh_connection\n            key: control_path_dir\n        vars:\n          - name: ansible_control_path_dir\n            version_added: \u00272.7\u0027\n      sftp_batch_mode:\n        default: \u0027yes\u0027\n        description: \u0027TODO: write it\u0027\n        env: [{name: ANSIBLE_SFTP_BATCH_MODE}]\n        ini:\n        - {key: sftp_batch_mode, section: ssh_connection}\n        type: bool\n        vars:\n          - name: ansible_sftp_batch_mode\n            version_added: \u00272.7\u0027        \n      scp_if_ssh:\n        default: smart\n        description:\n          - \"Prefered method to use when transfering files over ssh\"\n          - When set to smart, Ansible will try them until one succeeds or they all fail\n          - If set to True, it will force \u0027scp\u0027, if False it will use \u0027sftp\u0027\n        env: [{name: ANSIBLE_SCP_IF_SSH}]\n        ini:\n        - {key: scp_if_ssh, section: ssh_connection}\n        vars:\n          - name: ansible_scp_if_ssh\n            version_added: \u00272.7\u0027\n      use_tty:\n        version_added: \u00272.5\u0027\n        default: \u0027yes\u0027\n        description: add -tt to ssh commands to force tty allocation\n        env: [{name: ANSIBLE_SSH_USETTY}]\n        ini:\n        - {key: usetty, section: ssh_connection}\n        type: bool\n        vars:\n          - name: ansible_ssh_use_tty\n            version_added: \u00272.7\u0027\n\u0027\u0027\u0027",
      "revId": "33ec565c058d5ff5b884aab297e44aab1a86b94f",
      "serverId": "f2a2391d-0403-4fa5-b183-4056999a8a09",
      "unresolved": false
    }
  ]
}